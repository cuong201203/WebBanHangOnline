<!DOCTYPE html>
<html>
<head>
    <title>Cocoon Vietnam</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="Colo Shop Template">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    @*<link rel="icon" type="image/x-icon" href="~/Uploads/images/favicon.ico">*@
    <link rel="stylesheet" type="text/css" href="~/Content/assets/styles/bootstrap4/bootstrap.min.css">
    <link href="~/Content/assets/plugins/font-awesome-4.7.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link rel="stylesheet" type="text/css" href="~/Content/assets/plugins/OwlCarousel2-2.2.1/owl.carousel.css">
    <link rel="stylesheet" type="text/css" href="~/Content/assets/plugins/OwlCarousel2-2.2.1/owl.theme.default.css">
    <link rel="stylesheet" type="text/css" href="~/Content/assets/plugins/OwlCarousel2-2.2.1/animate.css">
    <link rel="stylesheet" type="text/css" href="~/Content/assets/plugins/jquery-ui-1.12.1.custom/jquery-ui.css">

    <link rel="stylesheet" type="text/css" href="~/Content/PagedList.css">

    @*@Styles.Render("~/Content/css")*@
    @Scripts.Render("~/bundles/modernizr")
    <script src="~/Content/assets/js/jquery-3.2.1.min.js"></script>
    @Scripts.Render("~/bundles/jqueryval")

    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif !important;
        }

        .pagination > li > a,
        .pagination > li > span {
            color: #fe4c50;
        }

        .pagination > .active > a,
        .pagination > .active > span,
        .pagination > .active > a:hover,
        .pagination > .active > span:hover,
        .pagination > .active > a:focus,
        .pagination > .active > span:focus {
            background-color: #fe4c50;
            border-color: #fe4c50;
        }
    </style>
</head>
<body>
    <div class="super_container">

        <!-- Header -->

        <header class="header trans_300">

            <!-- Top Navigation -->

            <div class="top_nav">
                <div class="container">
                    <div class="row">
                        <div class="col-md-6">
                            <div class="top_nav_left">hotline: 19009300</div>
                        </div>
                        <div class="col-md-6 text-right">
                            <div class="top_nav_right">
                                <ul class="top_nav_menu">

                                    <!-- Currency / Language / My Account -->
                                    @*<li class="currency">
                                            <a href="#">
                                                usd
                                                <i class="fa fa-angle-down"></i>
                                            </a>
                                            <ul class="currency_selection">
                                                <li><a href="#">cad</a></li>
                                                <li><a href="#">aud</a></li>
                                                <li><a href="#">eur</a></li>
                                                <li><a href="#">gbp</a></li>
                                            </ul>
                                        </li>*@
                                    @*<li class="language">
                                            <a href="#">
                                                English
                                                <i class="fa fa-angle-down"></i>
                                            </a>
                                            <ul class="language_selection">
                                                <li><a href="#">French</a></li>
                                                <li><a href="#">Italian</a></li>
                                                <li><a href="#">German</a></li>
                                                <li><a href="#">Spanish</a></li>
                                            </ul>
                                        </li>*@
                                    <li class="account">
                                        @if (!Request.IsAuthenticated)
                                        {
                                            <a href="/account/login" class="text-white font-weight-bold">
                                                Tài khoản của tôi
                                                <i class="fa fa-angle-down"></i>
                                            </a>
                                            <ul class="account_selection rounded" style="z-index: 101;">
                                                <li><a href="/account/login"><i class="fa fa-sign-in" aria-hidden="true"></i>Đăng nhập</a></li>
                                                <li><a href="/account/register"><i class="fa fa-user-plus" aria-hidden="true"></i>Đăng ký</a></li>
                                            </ul>
                                        }
                                        else
                                        {
                                            <a href="/account/profile" class="text-white font-weight-bold">
                                                Xin chào @User.Identity.Name
                                                <i class="fa fa-angle-down"></i>
                                            </a>
                                            <ul class="account_selection rounded" style="width: 170px; z-index: 101;">
                                                <li><a href="/account/profile"><i class="fa fa-user" aria-hidden="true"></i>Tài khoản của tôi</a></li>
                                                <li><a href="/account/orderhistory"><i class="fa fa-shopping-bag" aria-hidden="true"></i>Đơn mua</a></li>
                                                <li><a href="javascript:document.getElementById('logOffForm').submit()"><i class="fa fa-sign-out" aria-hidden="true"></i>Đăng xuất</a></li>
                                            </ul>
                                        }
                                    </li>
                                </ul>
                                @if (Request.IsAuthenticated)
                                {
                                    <div style="display: none;">
                                        @using (Html.BeginForm("LogOff", "Account", FormMethod.Post, new { @id = "logOffForm" }))
                                        {
                                            @Html.AntiForgeryToken()
                                        }
                                    </div>
                                }
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Main Navigation -->

            <div class="main_nav_container" style="z-index: 100;">
                <div class="container">
                    <div class="row">
                        <div class="col-lg-12 text-right">
                            <div class="logo_container">
                                @*<a href="/">co<span>coon</span></a>*@
                                <a href="/">
                                    <img src="~/Uploads/images/logo.svg" style="margin-left: -35px;"/>
                                </a>
                            </div>
                            <nav class="navbar">
                                @Html.Action("MenuTop", "Menu")
                                <ul class="navbar_user">
                                    <li id="search_btn">
                                        <a href="#"><i class="fa fa-search" aria-hidden="true"></i></a>
                                    </li>
                                    <!-- Popup tìm kiếm -->
                                    <div id="search_popup" class="rounded" style="display:none; position:absolute; right:0; margin: 10px 20px 0; width:350px; background-color:white; border:1px solid #ddd; padding:20px;">
                                        <input type="text" id="search_input" placeholder="Tìm kiếm sản phẩm..." style="width: 100%; border: none; border-bottom: 1px solid #fe4c50;" class="p-2">
                                        <div id="search_results" style="max-height:200px; overflow-y:auto; margin-top:10px; padding-right: 10px; text-align: left;"></div>
                                    </div>
                                    @*<li><a href="#"><i class="fa fa-user" aria-hidden="true"></i></a></li>*@
                                    <li class="checkout">
                                        <a href="/gio-hang">
                                            <i class="fa fa-shopping-cart" aria-hidden="true"></i>
                                            <span id="checkout_items" class="checkout_items">0</span>
                                        </a>
                                    </li>
                                </ul>
                                <div class="hamburger_container">
                                    <i class="fa fa-bars" aria-hidden="true"></i>
                                </div>
                            </nav>
                        </div>
                    </div>
                </div>
            </div>

        </header>

        <div class="fs_menu_overlay"></div>
        <div class="hamburger_menu">
            <div class="hamburger_close"><i class="fa fa-times" aria-hidden="true"></i></div>
            <div class="hamburger_menu_content text-right">
                <ul class="menu_top_nav">
                    <li class="menu_item has-children">
                        <a href="#">
                            Tài khoản của tôi
                            <i class="fa fa-angle-down"></i>
                        </a>
                        <ul class="menu_selection">
                            <li><a href="#"><i class="fa fa-sign-in" aria-hidden="true"></i>Đăng nhập</a></li>
                            <li><a href="#"><i class="fa fa-user-plus" aria-hidden="true"></i>Đăng ký</a></li>
                        </ul>
                    </li>
                    <li class="menu_item"><a href="#">trang chủ</a></li>
                    <li class="menu_item"><a href="#">sản phẩm</a></li>
                    <li class="menu_item"><a href="#">tin tức</a></li>
                    <li class="menu_item"><a href="#">liên hệ</a></li>
                </ul>
            </div>
        </div>

        @RenderBody()
        <!-- Newsletter -->
        <div class="newsletter py-2">
            <div class="container">
                <div class="row">
                    <div class="col-lg-6">
                        <div class="newsletter_text d-flex flex-column justify-content-center align-items-lg-start align-items-md-center text-center">
                            <h4>Đăng Ký Nhận Tin Mới Nhất</h4>
                            <p class="text-left mt-2">Đăng ký để nhận thông tin liên lạc về các sản phẩm, dịch vụ, cửa hàng, sự kiện và các vấn đề đáng quan tâm của Cocoon</p>
                        </div>
                    </div>
                    <div class="col-lg-6">
                        <form action="post">
                            <div class="newsletter_form d-flex flex-md-row flex-column flex-xs-column align-items-center justify-content-lg-end justify-content-center">
                                <input id="newsletter_email" type="email" placeholder="Email của bạn" required="required" data-error="Valid email is required.">
                                <button id="newsletter_submit" type="submit" class="newsletter_submit_btn trans_300" value="Submit">Đăng ký</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>

        <!-- Footer -->

        <footer class="footer">
            <div class="container" @*style="border-top: 1px solid lightgray;"*@>
                <div class="row" style="margin-top: -10px;">
                    <div class="col-lg-6">
                        <div class="footer_nav_container d-flex flex-sm-row flex-column align-items-center justify-content-lg-start justify-content-center text-center">
                            <ul class="footer_nav">
                                <li><a href="/tin-tuc">Tin tức</a></li>
                                @*<li><a href="#">FAQs</a></li>*@
                                <li><a href="/lien-he">Liên hệ chúng tôi</a></li>
                            </ul>
                        </div>
                    </div>
                    <div class="col-lg-6">
                        <div class="footer_social d-flex flex-row align-items-center justify-content-lg-end justify-content-center">
                            <ul>
                                <li><a href="#"><i class="fa fa-facebook" aria-hidden="true"></i></a></li>
                                @*<li><a href="#"><i class="fa fa-twitter" aria-hidden="true"></i></a></li>*@
                                <li><a href="#"><i class="fa fa-instagram" aria-hidden="true"></i></a></li>
                                @*<li><a href="#"><i class="fa fa-skype" aria-hidden="true"></i></a></li>*@
                                @*<li><a href="#"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li>*@
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="row" style="margin-top: -20px; margin-bottom: 0px;">
                    <div class="col-lg-12">
                        <div class="footer_nav_container">
                            @*<div class="cr">©2024 All Rights Reserverd. Made with <i class="fa fa-heart-o" aria-hidden="true"></i> by <a href="#">Colorlib</a> &amp; distributed by <a href="https://themewagon.com">ThemeWagon</a></div>*@
                            <div class="cr">©2024 <a href="#">Cocoon</a>. Tất cả các quyền được bảo lưu.</div>
                        </div>
                    </div>
                </div>
            </div>
        </footer>

    </div>

    @*@Scripts.Render("~/bundles/jquery")*@
    <script src="~/Content/assets/styles/bootstrap4/popper.js"></script>
    <script src="~/Content/assets/styles/bootstrap4/bootstrap.min.js"></script>
    <script src="~/Content/assets/plugins/Isotope/isotope.pkgd.min.js"></script>
    <script src="~/Content/assets/plugins/OwlCarousel2-2.2.1/owl.carousel.js"></script>
    <script src="~/Content/assets/plugins/easing/easing.js"></script>
    <script src="~/Content/assets/plugins/jquery-ui-1.12.1.custom/jquery-ui.js"></script>
    <script src="~/Content/assets/js/custom.js"></script>
    <script src="~/Scripts/jquery.validate.min.js"></script>
    <script src="~/Scripts/jquery.validate.unobtrusive.min.js"></script>
    <script src="~/Scripts/jquery.unobtrusive-ajax.min.js"></script>
    @*@Scripts.Render("~/bundles/bootstrap")*@
    <script src="~/Scripts/jsShopping.js"></script>

    <script>
        $(document).ready(function () {
            // Hiển thị popup khi nhấn vào nút Search
            $('#search_btn').click(function (e) {
                e.preventDefault(); // Ngăn trang cuộn về đầu
                $('#search_popup').toggle(); // Ẩn/Hiện popup
                $('#search_input').focus();  // Focus vào ô input
            });

            // Xử lý sự kiện nhấp chuột bên ngoài popup
            $(document).mouseup(function (e) {
                var container = $("#search_popup");
                var button = $('#search_btn'); // Tham chiếu đến nút tìm kiếm

                // Kiểm tra nếu nhấp chuột bên ngoài popup và nút tìm kiếm
                if (!container.is(e.target) && container.has(e.target).length === 0 && !button.is(e.target) && !button.has(e.target).length) {
                    container.hide(); // Ẩn popup
                }
            });

            // Xử lý sự kiện khi nhập liệu vào ô tìm kiếm
            $('#search_input').on('input', function () {
                var query = $(this).val();
                if (query.length > 0) {
                    $.ajax({
                        url: '@Url.Action("SearchProducts", "Product")', // Đường dẫn đến action tìm kiếm
                        type: 'GET',
                        data: { searchTerm: query },
                        success: function (data) {
                            $('#search_results').html(''); // Xóa kết quả cũ
                            data.forEach(function (item) {
                                $('#search_results').append('<p><a style="color: black; font-family: Tahoma, Geneva, Verdana, sans-serif;" href="/chi-tiet/' + item.Alias + '-p' + item.Id + '">' + item.Title + '</a></p>');
                            });
                        }
                    });
                } else {
                    $('#search_results').html(''); // Nếu ô input trống, xóa kết quả
                }
            });

            $('li.account').hover(function () {
                $(this).find('ul.account_selection').show(150);
            }, function () {
                // Khi rời hover khỏi .account, ẩn ul.account_selection ngay lập tức
                $(this).find('ul.account_selection').hide();
            });
        });
    </script>
    @RenderSection("scripts", required: false)
</body>
</html>
